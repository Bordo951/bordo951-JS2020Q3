(()=>{var e={109:()=>{const e=.3,a=Power2.easeOut,t=gsap.timeline({paused:!0});t.to(".mouth-back",{duration:e,ease:a,y:-70},0),t.to(".tongue",{duration:1.5*e,ease:a,y:-70},0),t.to(".teeth",{duration:e,ease:a,y:-70,scaleY:1.2},0),t.to(".body",{duration:e,ease:a,scaleY:1.06,transformOrigin:"center bottom"},0),t.to(".freckles",{duration:e,ease:a,y:-10},0),t.to(".ears",{duration:e,ease:a,y:6},0),t.to(".eye-right",{duration:e,ease:a,x:-2},0),t.to(".eye-left",{duration:e,ease:a,x:2},0),t.to(".eyes",{duration:e,ease:a,y:2},0),t.to(".nostrils",{duration:e,ease:a,y:-6},0);const n=document.querySelector("button");n.addEventListener("mouseenter",(function(){t.play()})),n.addEventListener("mouseleave",(function(){t.reverse()}));const i=gsap.timeline({paused:!0,repeat:2});i.set(".ear-right",{transformOrigin:"center center"}),i.to(".ear-right",{duration:.1,rotation:45}),i.to(".ear-right",{duration:.1,rotation:0}),window.setInterval((function(){i.play(0)}),2500);const r=document.querySelector(".eye-right-pupil"),g=document.querySelector(".eye-left-pupil"),d=document.querySelector(".eye-left-inner"),o=d.getBoundingClientRect().width,s=d.getBoundingClientRect().height,u=g.getBoundingClientRect().width,c=g.getBoundingClientRect().height,l=(o-u)/2,m=(s-c)/2;window.addEventListener("mousemove",(function(e){const a=(e.clientX/document.body.clientWidth*2-1)*l,t=(e.clientY/document.body.clientHeight*2-1)*m;g.style.transform=`translate(${a}px, ${t}px)`,r.style.transform=`translate(${a}px, ${t}px)`})),n.addEventListener("click",(()=>window.location.hash="#"))}},a={};function t(n){if(a[n])return a[n].exports;var i=a[n]={exports:{}};return e[n](i,i.exports,t),i.exports}(()=>{"use strict";t(109);const e=[{cardId:1,categoryId:1,language:{ru:"плакать",en:"cry"},image:"img/actions/cry.jpg",audioLanguage:{en:"audio/actions/cry.mp3"}},{cardId:2,categoryId:1,language:{ru:"танцевать",en:"dance"},image:"img/actions/dance.jpg",audioLanguage:{en:"audio/actions/dance.mp3"}},{cardId:3,categoryId:1,language:{ru:"нырять",en:"dive"},image:"img/actions/dive.jpg",audioLanguage:{en:"audio/actions/dive.mp3"}},{cardId:4,categoryId:1,language:{ru:"рисовать",en:"draw"},image:"img/actions/draw.jpg",audioLanguage:{en:"audio/actions/draw.mp3"}},{cardId:5,categoryId:1,language:{ru:"ловить рыбу",en:"fish"},image:"img/actions/fish.jpg",audioLanguage:{en:"audio/actions/fish.mp3"}},{cardId:6,categoryId:1,language:{ru:"летать",en:"fly"},image:"img/actions/fly.jpg",audioLanguage:{en:"audio/actions/fly.mp3"}},{cardId:7,categoryId:1,language:{ru:"обнимать",en:"hug"},image:"img/actions/hug.jpg",audioLanguage:{en:"audio/actions/hug.mp3"}},{cardId:8,categoryId:1,language:{ru:"прыгать",en:"jump"},image:"img/actions/jump.jpg",audioLanguage:{en:"audio/actions/jump.mp3"}},{cardId:9,categoryId:2,language:{ru:"грустный",en:"sad"},image:"img/emotions/sad.jpg",audioLanguage:{en:"audio/emotions/sad.mp3"}},{cardId:10,categoryId:2,language:{ru:"сердитый",en:"angry"},image:"img/emotions/angry.jpg",audioLanguage:{en:"audio/emotions/angry.mp3"}},{cardId:11,categoryId:2,language:{ru:"счастливый",en:"happy"},image:"img/emotions/happy.jpg",audioLanguage:{en:"audio/emotions/happy.mp3"}},{cardId:12,categoryId:2,language:{ru:"уставший",en:"tired"},image:"img/emotions/tired.jpg",audioLanguage:{en:"audio/emotions/tired.mp3"}},{cardId:13,categoryId:2,language:{ru:"удивлённый",en:"surprised"},image:"img/emotions/surprised.jpg",audioLanguage:{en:"audio/emotions/surprised.mp3"}},{cardId:14,categoryId:2,language:{ru:"испуганный",en:"scared"},image:"img/emotions/scared.jpg",audioLanguage:{en:"audio/emotions/scared.mp3"}},{cardId:15,categoryId:2,language:{ru:"улыбка",en:"smile"},image:"img/emotions/smile.jpg",audioLanguage:{en:"audio/emotions/smile.mp3"}},{cardId:16,categoryId:2,language:{ru:"смех",en:"laugh"},image:"img/emotions/laugh.jpg",audioLanguage:{en:"audio/emotions/laugh.mp3"}},{cardId:17,categoryId:3,language:{ru:"юбка",en:"skirt"},image:"img/clothes/skirt.jpg",audioLanguage:{en:"audio/clothes/skirt.mp3"}},{cardId:18,categoryId:3,language:{ru:"брюки",en:"pants"},image:"img/clothes/pants.jpg",audioLanguage:{en:"audio/clothes/pants.mp3"}},{cardId:19,categoryId:3,language:{ru:"блузка",en:"blouse"},image:"img/clothes/blouse.jpg",audioLanguage:{en:"audio/clothes/blouse.mp3"}},{cardId:20,categoryId:3,language:{ru:"платье",en:"dress"},image:"img/clothes/dress.jpg",audioLanguage:{en:"audio/clothes/dress.mp3"}},{cardId:21,categoryId:3,language:{ru:"ботинок",en:"boot"},image:"img/clothes/boot.jpg",audioLanguage:{en:"audio/clothes/boot.mp3"}},{cardId:22,categoryId:3,language:{ru:"рубашка",en:"shirt"},image:"img/clothes/shirt.jpg",audioLanguage:{en:"audio/clothes/shirt.mp3"}},{cardId:23,categoryId:3,language:{ru:"пальто",en:"coat"},image:"img/clothes/coat.jpg",audioLanguage:{en:"audio/clothes/coat.mp3"}},{cardId:24,categoryId:3,language:{ru:"туфли",en:"shoe"},image:"img/clothes/shoe.jpg",audioLanguage:{en:"audio/clothes/shoe.mp3"}},{cardId:25,categoryId:4,language:{ru:"кот",en:"cat"},image:"img/pets/cat.jpg",audioLanguage:{en:"audio/pets/cat.mp3"}},{cardId:26,categoryId:4,language:{ru:"собака",en:"dog"},image:"img/pets/dog.jpg",audioLanguage:{en:"audio/pets/dog.mp3"}},{cardId:27,categoryId:4,language:{ru:"кролик",en:"rabbit"},image:"img/pets/rabbit.jpg",audioLanguage:{en:"audio/pets/rabbit.mp3"}},{cardId:28,categoryId:4,language:{ru:"курица",en:"chicken"},image:"img/pets/chicken.jpg",audioLanguage:{en:"audio/pets/chicken.mp3"}},{cardId:29,categoryId:4,language:{ru:"свинья",en:"pig"},image:"img/pets/pig.jpg",audioLanguage:{en:"audio/pets/pig.mp3"}},{cardId:30,categoryId:4,language:{ru:"овца",en:"sheep"},image:"img/pets/sheep.jpg",audioLanguage:{en:"audio/pets/sheep.mp3"}},{cardId:31,categoryId:4,language:{ru:"лошадь",en:"horse"},image:"img/pets/horse.jpg",audioLanguage:{en:"audio/pets/horse.mp3"}},{cardId:32,categoryId:4,language:{ru:"мышь",en:"mouse"},image:"img/pets/mouse.jpg",audioLanguage:{en:"audio/pets/mouse.mp3"}},{cardId:33,categoryId:5,language:{ru:"черепаха",en:"turtle"},image:"img/wild-animals/turtle.jpg",audioLanguage:{en:"audio/wild-animals/turtle.mp3"}},{cardId:34,categoryId:5,language:{ru:"птица",en:"bird"},image:"img/wild-animals/bird.jpg",audioLanguage:{en:"audio/wild-animals/bird.mp3"}},{cardId:35,categoryId:5,language:{ru:"рыба",en:"fish"},image:"img/wild-animals/fish.jpg",audioLanguage:{en:"audio/wild-animals/fish.mp3"}},{cardId:36,categoryId:5,language:{ru:"лягушка",en:"frog"},image:"img/wild-animals/frog.jpg",audioLanguage:{en:"audio/wild-animals/frog.mp3"}},{cardId:37,categoryId:5,language:{ru:"жираф",en:"giraffe"},image:"img/wild-animals/giraffe.jpg",audioLanguage:{en:"audio/wild-animals/giraffe.mp3"}},{cardId:38,categoryId:5,language:{ru:"лев",en:"lion"},image:"img/wild-animals/lion.jpg",audioLanguage:{en:"audio/wild-animals/lion.mp3"}},{cardId:39,categoryId:5,language:{ru:"дельфин",en:"dolphin"},image:"img/wild-animals/dolphin.jpg",audioLanguage:{en:"audio/wild-animals/dolphin.mp3"}},{cardId:40,categoryId:5,language:{ru:"тигр",en:"tiger"},image:"img/wild-animals/tiger.jpg",audioLanguage:{en:"audio/wild-animals/tiger.mp3"}},{cardId:41,categoryId:6,language:{ru:"ракета",en:"rocket"},image:"img/space/rocket.jpg",audioLanguage:{en:"audio/space/rocket.mp3"}},{cardId:42,categoryId:6,language:{ru:"солнце",en:"sun"},image:"img/space/sun.jpg",audioLanguage:{en:"audio/space/sun.mp3"}},{cardId:43,categoryId:6,language:{ru:"луна",en:"moon"},image:"img/space/moon.jpg",audioLanguage:{en:"audio/space/moon.mp3"}},{cardId:44,categoryId:6,language:{ru:"звезда",en:"star"},image:"img/space/star.jpg",audioLanguage:{en:"audio/space/star.mp3"}},{cardId:45,categoryId:6,language:{ru:"планета",en:"planet"},image:"img/space/planet.jpg",audioLanguage:{en:"audio/space/planet.mp3"}},{cardId:46,categoryId:6,language:{ru:"земля",en:"earth"},image:"img/space/earth.jpg",audioLanguage:{en:"audio/space/earth.mp3"}},{cardId:47,categoryId:6,language:{ru:"астронавт",en:"astronaut"},image:"img/space/astronaut.jpg",audioLanguage:{en:"audio/space/astronaut.mp3"}},{cardId:48,categoryId:6,language:{ru:"космос",en:"space"},image:"img/space/space.jpg",audioLanguage:{en:"audio/space/space.mp3"}},{cardId:49,categoryId:7,language:{ru:"машина",en:"car"},image:"img/transport/car.jpg",audioLanguage:{en:"audio/transport/car.mp3"}},{cardId:50,categoryId:7,language:{ru:"автобус",en:"bus"},image:"img/transport/bus.jpg",audioLanguage:{en:"audio/transport/bus.mp3"}},{cardId:51,categoryId:7,language:{ru:"троллейбус",en:"trolleybus"},image:"img/transport/trolleybus.jpg",audioLanguage:{en:"audio/transport/trolleybus.mp3"}},{cardId:52,categoryId:7,language:{ru:"трамвай",en:"tram"},image:"img/transport/tram.jpg",audioLanguage:{en:"audio/transport/tram.mp3"}},{cardId:53,categoryId:7,language:{ru:"поезд",en:"train"},image:"img/transport/train.jpg",audioLanguage:{en:"audio/transport/train.mp3"}},{cardId:54,categoryId:7,language:{ru:"самолёт",en:"airplane"},image:"img/transport/airplane.jpg",audioLanguage:{en:"audio/transport/airplane.mp3"}},{cardId:55,categoryId:7,language:{ru:"такси",en:"taxi"},image:"img/transport/taxi.jpg",audioLanguage:{en:"audio/transport/taxi.mp3"}},{cardId:56,categoryId:7,language:{ru:"корабль",en:"ship"},image:"img/transport/ship.jpg",audioLanguage:{en:"audio/transport/ship.mp3"}},{cardId:57,categoryId:8,language:{ru:"голова",en:"head"},image:"img/body/head.jpg",audioLanguage:{en:"audio/body/head.mp3"}},{cardId:58,categoryId:8,language:{ru:"ухо",en:"ear"},image:"img/body/ear.jpg",audioLanguage:{en:"audio/body/ear.mp3"}},{cardId:59,categoryId:8,language:{ru:"нос",en:"nose"},image:"img/body/nose.jpg",audioLanguage:{en:"audio/body/nose.mp3"}},{cardId:60,categoryId:8,language:{ru:"волосы",en:"hair"},image:"img/body/hair.jpg",audioLanguage:{en:"audio/body/hair.mp3"}},{cardId:61,categoryId:8,language:{ru:"зуб",en:"tooth"},image:"img/body/tooth.jpg",audioLanguage:{en:"audio/body/tooth.mp3"}},{cardId:62,categoryId:8,language:{ru:"рука",en:"hand"},image:"img/body/hand.jpg",audioLanguage:{en:"audio/body/hand.mp3"}},{cardId:63,categoryId:8,language:{ru:"палец",en:"finger"},image:"img/body/finger.jpg",audioLanguage:{en:"audio/body/finger.mp3"}},{cardId:64,categoryId:8,language:{ru:"нога",en:"leg"},image:"img/body/leg.jpg",audioLanguage:{en:"audio/body/leg.mp3"}},{cardId:65,categoryId:9,language:{ru:"золушка",en:"cinderella"},image:"img/fairytale-characters/cinderella.jpg",audioLanguage:{en:"audio/fairytale-characters/cinderella.mp3"}},{cardId:66,categoryId:9,language:{ru:"белоснежка",en:"snow white"},image:"img/fairytale-characters/snow-white.jpg",audioLanguage:{en:"audio/fairytale-characters/snow-white.mp3"}},{cardId:67,categoryId:9,language:{ru:"гном",en:"dwarf"},image:"img/fairytale-characters/dwarf.jpg",audioLanguage:{en:"audio/fairytale-characters/dwarf.mp3"}},{cardId:68,categoryId:9,language:{ru:"Винни-Пух",en:"pooh bear"},image:"img/fairytale-characters/pooh-bear.jpg",audioLanguage:{en:"audio/fairytale-characters/pooh-bear.mp3"}},{cardId:69,categoryId:9,language:{ru:"щелкунчик",en:"nutcracker"},image:"img/fairytale-characters/nutcracker.jpg",audioLanguage:{en:"audio/fairytale-characters/nutcracker.mp3"}},{cardId:70,categoryId:9,language:{ru:"дед мороз",en:"santa claus"},image:"img/fairytale-characters/santa-claus.jpg",audioLanguage:{en:"audio/fairytale-characters/santa-claus.mp3"}},{cardId:71,categoryId:9,language:{ru:"буратино",en:"pinocchio"},image:"img/fairytale-characters/pinocchio.jpg",audioLanguage:{en:"audio/fairytale-characters/pinocchio.mp3"}},{cardId:72,categoryId:9,language:{ru:"король лев",en:"the lion king"},image:"img/fairytale-characters/lion-king.jpg",audioLanguage:{en:"audio/fairytale-characters/lion-king.mp3"}},{cardId:73,categoryId:10,language:{ru:"мячик",en:"ball"},image:"img/subjects/ball.jpg",audioLanguage:{en:"audio/subjects/ball.mp3"}},{cardId:74,categoryId:10,language:{ru:"кукла",en:"doll"},image:"img/subjects/doll.jpg",audioLanguage:{en:"audio/subjects/doll.mp3"}},{cardId:75,categoryId:10,language:{ru:"игрушка",en:"toy"},image:"img/subjects/toy.jpg",audioLanguage:{en:"audio/subjects/toy.mp3"}},{cardId:76,categoryId:10,language:{ru:"карандаш",en:"pencil"},image:"img/subjects/pencil.jpg",audioLanguage:{en:"audio/subjects/pencil.mp3"}},{cardId:77,categoryId:10,language:{ru:"кровать",en:"bed"},image:"img/subjects/bed.jpg",audioLanguage:{en:"audio/subjects/bed.mp3"}},{cardId:78,categoryId:10,language:{ru:"велосипед",en:"bicycle"},image:"img/subjects/bicycle.jpg",audioLanguage:{en:"audio/subjects/bicycle.mp3"}},{cardId:79,categoryId:10,language:{ru:"телефон",en:"phone"},image:"img/subjects/phone.jpg",audioLanguage:{en:"audio/subjects/phone.mp3"}},{cardId:80,categoryId:10,language:{ru:"книга",en:"book"},image:"img/subjects/book.jpg",audioLanguage:{en:"audio/subjects/book.mp3"}},{cardId:81,categoryId:11,language:{ru:"хлеб",en:"bread"},image:"img/food/bread.jpg",audioLanguage:{en:"audio/food/bread.mp3"}},{cardId:82,categoryId:11,language:{ru:"масло",en:"butter"},image:"img/food/butter.jpg",audioLanguage:{en:"audio/food/butter.mp3"}},{cardId:83,categoryId:11,language:{ru:"сахар",en:"sugar"},image:"img/food/sugar.jpg",audioLanguage:{en:"audio/food/sugar.mp3"}},{cardId:84,categoryId:11,language:{ru:"молоко",en:"milk"},image:"img/food/milk.jpg",audioLanguage:{en:"audio/food/milk.mp3"}},{cardId:85,categoryId:11,language:{ru:"конфета",en:"candy"},image:"img/food/candy.jpg",audioLanguage:{en:"audio/food/candy.mp3"}},{cardId:86,categoryId:11,language:{ru:"печенье",en:"cookie"},image:"img/food/cookie.jpg",audioLanguage:{en:"audio/food/cookie.mp3"}},{cardId:87,categoryId:11,language:{ru:"каша",en:"porridge"},image:"img/food/porridge.jpg",audioLanguage:{en:"audio/food/porridge.mp3"}},{cardId:88,categoryId:11,language:{ru:"мясо",en:"meat"},image:"img/food/meat.jpg",audioLanguage:{en:"audio/food/meat.mp3"}},{cardId:89,categoryId:12,language:{ru:"яблоко",en:"apple"},image:"img/fruit/apple.jpg",audioLanguage:{en:"audio/fruit/apple.mp3"}},{cardId:90,categoryId:12,language:{ru:"груша",en:"pear"},image:"img/fruit/pear.jpg",audioLanguage:{en:"audio/fruit/pear.mp3"}},{cardId:91,categoryId:12,language:{ru:"банан",en:"banana"},image:"img/fruit/banana.jpg",audioLanguage:{en:"audio/fruit/banana.mp3"}},{cardId:92,categoryId:12,language:{ru:"виноград",en:"grape"},image:"img/fruit/grape.jpg",audioLanguage:{en:"audio/fruit/grape.mp3"}},{cardId:93,categoryId:12,language:{ru:"персик",en:"peach"},image:"img/fruit/peach.jpg",audioLanguage:{en:"audio/fruit/peach.mp3"}},{cardId:94,categoryId:12,language:{ru:"апельсин",en:"orange"},image:"img/fruit/orange.jpg",audioLanguage:{en:"audio/fruit/orange.mp3"}},{cardId:95,categoryId:12,language:{ru:"арбуз",en:"watermelon"},image:"img/fruit/watermelon.jpg",audioLanguage:{en:"audio/fruit/watermelon.mp3"}},{cardId:96,categoryId:12,language:{ru:"лимон",en:"lemon"},image:"img/fruit/lemon.jpg",audioLanguage:{en:"audio/fruit/lemon.mp3"}}];class a{getAllCards(){return e}getCardById(a){return e.filter((e=>e.cardId===a))[0]}getCardsByCategoryId(a){return e.filter((e=>e.categoryId===a))}}const n=[{categoryId:-1,language:{ru:"Главная",en:"Main"},urlKey:"",image:{menu:"main",main:"#"}},{categoryId:1,language:{ru:"Действия",en:"Actions"},urlKey:"actions",image:{menu:"actions",main:"#"}},{categoryId:2,language:{ru:"Эмоции",en:"Emotions"},urlKey:"emotions",image:{menu:"emotions",main:"#"}},{categoryId:3,language:{ru:"Одежда",en:"Clothes"},urlKey:"clothes",image:{menu:"clothes",main:"#"}},{categoryId:4,language:{ru:"Домашние животные",en:"Pets"},urlKey:"pets",image:{menu:"pets",main:"#"}},{categoryId:5,language:{ru:"Дикие животные",en:"Wild animals"},urlKey:"wild-animals",image:{menu:"wild-animals",main:"#"}},{categoryId:6,language:{ru:"Космос",en:"Space"},urlKey:"space",image:{menu:"space",main:"#"}},{categoryId:7,language:{ru:"Транспорт",en:"Transport"},urlKey:"transport",image:{menu:"transport",main:"#"}},{categoryId:8,language:{ru:"Части тела",en:"Body"},urlKey:"body",image:{menu:"body",main:"#"}},{categoryId:9,language:{ru:"Персонажи",en:"Characters"},urlKey:"characters",image:{menu:"characters",main:"#"}},{categoryId:10,language:{ru:"Предметы",en:"Subjects"},urlKey:"subjects",image:{menu:"subjects",main:"#"}},{categoryId:11,language:{ru:"Еда",en:"Food"},urlKey:"food",image:{menu:"food",main:"#"}},{categoryId:12,language:{ru:"Фрукты",en:"Fruit"},urlKey:"fruit",image:{menu:"fruit",main:"#"}}];class i{getAllCategories(){return n}getMainCategories(){return n.filter((e=>e.categoryId>0))}getCategoryByID(e){return n.filter((a=>a.categoryId===e))[0]}getCategoryByUrlKey(e){return n.filter((a=>a.urlKey===e))[0]}}class r{getCategoryMenuItemHtml(e){let a=e.language.en,t=e.image.menu;return`<li data-category-urlkey="#${e.urlKey}"><a href="#${e.urlKey}"><img class="menu-img" src="./assets/images/categories/menu/${t}.svg" alt="${a}" title="${a}">${a}</a></li>`}getCategoryMainItemHtml(e){let a=e.language.en;return`<a class="card" href="#${e.urlKey}">\n                        <div class="card__image-wrapper">\n                            <img class="card__image" src="./assets/images/categories/main/${e.urlKey}.jpg" alt="${a}" title="${a}">\n                        </div>\n                        <div class="card__content-wrapper">\n                            <h3 class="card__title">${a}</h3>\n                        </div>\n                    </a>`}}class g{getCardMainItemHtml(e){let a=e.language.en,t=e.language.ru,n=a.charAt(0).toUpperCase()+a.slice(1),i=t.charAt(0).toUpperCase()+t.slice(1);return`<div class="card card__flipped" data-card-id="${e.cardId}">\n                    <div class="card__flipped-inner">\n                        <div class="card__flipped-front">\n                            <div class="card__image-wrapper">\n                                <img class="card__image" src="./assets/images/${e.categoryId}/${a}.jpg" alt="${n}">\n                            </div>\n                            <div class="card__content-wrapper">\n                                <button class="card__flipped__button" data-action="play-sound" data-card-id="${e.cardId}">\n                                    <img class="card__flipped__button-img" src="./assets/images/cards-button/sound.svg" alt="Sound" title="Sound">\n                                </button>\n                                <h3 class="card__title">${n}</h3>\n                                <button class="card__flipped__button" data-action="rotate-card" data-card-id="${e.cardId}">\n                                    <img class="card__flipped__button-img" src="./assets/images/cards-button/turn.svg" alt="Turn" title="Turn">\n                                </button>\n                            </div>\n                        </div>\n                        <div class="card__flipped-back">\n                            <div class="card__image-wrapper">\n                                <img class="card__image" src="./assets/images/${e.categoryId}/${a}.jpg" alt="${n}">\n                            </div>\n                            <div class="card__content-wrapper">\n                                <h3 class="card__title">${i}</h3>\n                            </div>\n                        </div>\n                    </div>\n                </div>`}}class d{getFailureGameHtml(e){return`<div class="game-over">\n                        <div class="game-over__image-wrapper">\n                            <img class="game-over__image" src="./assets/images/game-over/failure.svg" alt="Failure" title="Failure">\n                        </div>\n                        <div class="game-over__result-wrapper">\n                            <p class="game-over__result">\n                                <span class="game-over__result-message">Error rate</span>\n                                <span class="game-over__result-error">${localStorage.getItem("failedAnswers")}</span>\n                            </p>\n                        </div>\n                    </div>`}getSuccessGameHtml(e){return'<div class="game-over">\n                        <div class="game-over__image-wrapper">\n                            <img class="game-over__image" src="./assets/images/game-over/success.svg" alt="Success" title="Success">\n                        </div>\n                        <div class="game-over__result-wrapper">\n                            <p class="game-over__result">\n                                <span class="game-over__result-message">Good Job!</span>\n                            </p>\n                        </div>\n                    </div>'}}class o{getHeaderTable(){return'<div class="statistics">\n                       <div class="statistics__buttons-wrapper">\n                           <button class="statistics__buttons">Repeat difficult words</button>\n                           <button class="statistics__buttons">Reset</button>\n                       </div>\n                       <div class="table__wrapper">\n                           <table class="table">\n                               <thead>\n                                   <caption class="table__title">Cards</caption>\n                                   <tr>\n                                       <td class="table__cell-name"><span>↓</span>Word</td>\n                                       <td class="table__cell-name">Translation</td>\n                                       <td class="table__cell-name">Category</td>\n                                       <td class="table__cell-name">Clicks</td>\n                                       <td class="table__cell-name">Right</td>\n                                       <td class="table__cell-name">Mistakes</td>\n                                       <td class="table__cell-name">%errors</td>\n                                   </tr>\n                               </thead>\n                               <tbody>'}getStatisticTableRows(e){return`<tr class="table__string">\n                                       <td>${e.language.en}</td>\n                                       <td>${e.language.ru}</td>\n                                       <td>${e.categoryId}</td>\n                                       <td>0</td>\n                                       <td>0</td>\n                                       <td>0</td>\n                                       <td>0</td>\n                                   </tr>`}getFooterTable(){return"</tbody>\n                           </table>\n                       </div>\n                   </div>"}}class s{constructor(){this.categoriesRepository=new i,this.categoriesView=new r,this.cardsRepository=new a,this.cardsView=new g,this.gameView=new d,this.statisticsView=new o}getCategoriesMenuHtml(){let e=this.categoriesRepository.getAllCategories(),a="";return e.forEach(function(e){a+=this.categoriesView.getCategoryMenuItemHtml(e)}.bind(this)),a}getCategoriesMainHtml(){let e=this.categoriesRepository.getMainCategories(),a="";return e.forEach(function(e){a+=this.categoriesView.getCategoryMainItemHtml(e)}.bind(this)),a}getCardsMainHtml(e){let a=this.categoriesRepository.getCategoryByUrlKey(e),t=null;if(a){let e=this.cardsRepository.getCardsByCategoryId(a.categoryId);t="",e.forEach(function(e){t+=this.cardsView.getCardMainItemHtml(e)}.bind(this))}return t}getSuccessGameOverHtml(e){let a="";return a=this.gameView.getSuccessGameHtml(e),a}getFailureGameOverHtml(e){let a="";return a=this.gameView.getFailureGameHtml(e),a}getStatisticsHtml(){let e=this.cardsRepository.getAllCards(),a=this.statisticsView.getHeaderTable();return e.forEach(function(e){let t=this.categoriesRepository.getCategoryByID(e.categoryId),n={language:e.language,categoryId:t.language.en};a+=this.statisticsView.getStatisticTableRows(n)}.bind(this)),a+=this.statisticsView.getFooterTable(),a}}class u{constructor(){this.trustedUrls=["statistics","success-game-over","failure-game-over"],this.categoriesRepository=new i}isMainPageUrl(e){return""===e}isStaticPageUrl(e){return e.length>0&&-1!==this.trustedUrls.indexOf(e)}isCategoryUrl(e){let a=this.categoriesRepository.getCategoryByUrlKey(e);return e.length>0&&"object"==typeof a}}function c(){let e=this.dataset.cardId;document.querySelector(`.card__flipped[data-card-id="${e}"]`).classList.add("rotated")}function l(){let e=this.dataset.cardId;document.querySelector(`.card__flipped[data-card-id="${e}"]`).classList.remove("rotated")}function m(){document.querySelectorAll('[data-action="rotate-card"]').forEach((function(e){e.addEventListener("click",c)})),document.querySelectorAll(".card__flipped").forEach((function(e){e.addEventListener("mouseleave",l)}))}document.addEventListener("DOMContentLoaded",m);class p{playCardSound(e){if("object"==typeof e){new Audio(`./assets/audio/${e.categoryId}/${e.language.en}.mp3`).play()}}playGameModeSound(e){new Audio(`./assets/audio/game-mode/${e}.mp3`).play()}playCorrectSound(){this.playGameModeSound("correct")}playErrorSound(){this.playGameModeSound("error")}playFailureSound(){this.playGameModeSound("failure")}playSuccessSound(){this.playGameModeSound("success")}}let y=new a,h=new p;function I(){let e=Number.parseInt(this.dataset.cardId),a=y.getCardById(e);h.playCardSound(a)}function f(){document.querySelectorAll('[data-action="play-sound"]').forEach((function(e){e.addEventListener("click",I)}))}document.addEventListener("DOMContentLoaded",f);class b{openSuccessGameOverPage(){document.body.classList.remove("game-started"),window.location.hash="success-game-over"}openFailureGameOverPage(){document.body.classList.remove("game-started"),window.location.hash="failure-game-over"}openHomepage(e=0){setTimeout((function(){window.location.hash=""}),e)}}let L=new p,v=new a,j=(new i,new b),w=0;function _(){let e=!this.classList.contains("disabled"),a=document.body.classList.contains("game-started");e&&a&&(this.classList.contains("target_card")?(L.playCorrectSound(),this.classList.remove("target_card"),this.classList.add("disabled"),E(),function(){let e=document.getElementById("star-row"),a=document.createElement("span");a.innerHTML='<img class="star" src="./assets/images/star.svg" alt="Star">',e.appendChild(a)}()):(w+=1,L.playErrorSound()))}function C(){w=0,localStorage.removeItem("failedAnswers"),document.getElementById("star-row").innerHTML="",document.body.classList.add("game-started"),E()}function M(){let e=document.querySelector(".play-mode #main-content .target_card"),a=Number.parseInt(e.dataset.cardId),t=v.getCardById(a);setTimeout((function(){L.playCardSound(t)}),400)}function S(){document.querySelectorAll(".play-mode #main-content .card").forEach((function(e){e.addEventListener("click",_)})),document.getElementById("start-game").addEventListener("click",C),document.getElementById("repeat-card").addEventListener("click",M)}function E(){let e,a=document.querySelectorAll(".play-mode #main-content .card"),t=!0,n=!0;for(a.forEach((function(e){e.classList.contains("disabled")||(n=!1)}));t&&!n;){i=a.length,e=Math.floor(Math.random()*Math.floor(i)),!a[e].classList.contains("disabled")&&(a[e].classList.add("target_card"),t=!1)}var i;if(n)w>0?(localStorage.setItem("failedAnswers",w),setTimeout((function(){j.openFailureGameOverPage()}),400)):setTimeout((function(){j.openSuccessGameOverPage()}),400);else{let t=Number.parseInt(a[e].dataset.cardId),n=v.getCardById(t);setTimeout((function(){L.playCardSound(n)}),800)}}class k{initCardsEvents(){m(),f(),S()}}class H{openMainMenu(){document.getElementById("hamburger").checked=!0,document.getElementById("main-menu-overlay").classList.remove("hidden")}closeMainMenu(){document.getElementById("hamburger").checked=!1,document.getElementById("main-menu-overlay").classList.add("hidden")}activeCurrentItem(e){document.querySelectorAll("#main-menu-list li").forEach((function(e){e.classList.remove("active")}));let a=document.querySelector(`li[data-category-urlkey="#${e}"]`);a&&a.classList.add("active")}}class ${enable(){S()}disable(){document.querySelectorAll("#main-content .card").forEach((function(e){e.classList.remove("target_card"),e.classList.remove("disabled")})),localStorage.removeItem("failedAnswers"),document.getElementById("star-row").innerHTML=""}}class B{constructor(){this.htmlGenerator=new s,this.urlChecker=new u,this.eventManager=new k,this.soundsPlayer=new p,this.pageNavigator=new b,this.mainMenu=new H,this.playMode=new $,this.categoriesMenuId="main-menu-list",this.contentMainId="main-content",this.delayAfterSuccessGameOver=3500,this.delayAfterFailureGameOver=5500}buildPageFromHash(e){let a=e.substring(1);if(this.mainMenu.closeMainMenu(),this.mainMenu.activeCurrentItem(a),this.urlChecker.isMainPageUrl(a)?document.body.classList.add("main-page"):document.body.classList.remove("main-page"),this.urlChecker.isStaticPageUrl(a))return document.body.classList.add("static-page"),void this.buildStaticPage(a);document.body.classList.remove("static-page"),this.urlChecker.isCategoryUrl(a)?this.buildCardsCategoryPage(a):this.buildCategoryMainPage()}updateContentWithHtml(e){document.getElementById(this.contentMainId).innerHTML=e}updateMenuWithHtml(e){document.getElementById(this.categoriesMenuId).innerHTML=e}buildCategoryMenu(){let e=this.htmlGenerator.getCategoriesMenuHtml();this.updateMenuWithHtml(e)}buildCategoryMainPage(){let e=this.htmlGenerator.getCategoriesMainHtml();this.updateContentWithHtml(e)}buildCardsCategoryPage(e){let a=this.htmlGenerator.getCardsMainHtml(e);this.updateContentWithHtml(a),this.eventManager.initCardsEvents()}buildStaticPage(e){let a="";switch(e){case"success-game-over":a=this.htmlGenerator.getSuccessGameOverHtml(),this.soundsPlayer.playSuccessSound(),this.playMode.disable(),this.pageNavigator.openHomepage(this.delayAfterSuccessGameOver);break;case"failure-game-over":a=this.htmlGenerator.getFailureGameOverHtml(),this.soundsPlayer.playFailureSound(),this.playMode.disable(),this.pageNavigator.openHomepage(this.delayAfterFailureGameOver);break;case"statistics":a=this.htmlGenerator.getStatisticsHtml();break;default:a=e}this.updateContentWithHtml(a)}}let G=new B;window.addEventListener("hashchange",(function(){document.body.classList.remove("game-started"),document.getElementById("star-row").innerHTML="",G.buildPageFromHash(window.location.hash)}));let A=new B;document.addEventListener("DOMContentLoaded",(function(){A.buildCategoryMenu(),A.buildPageFromHash(window.location.hash)}));let T=new H;document.addEventListener("DOMContentLoaded",(function(){document.getElementById("main-menu-overlay").addEventListener("click",T.closeMainMenu)}));let P=new H;document.getElementById("hamburger").addEventListener("change",(function(){this.checked?P.openMainMenu():P.closeMainMenu()}));let K=new $;document.getElementById("play-mode").addEventListener("change",(function(){this.checked?(document.body.classList.add("play-mode"),localStorage.removeItem("failedAnswers"),document.getElementById("star-row").innerHTML="",K.enable()):(document.body.classList.remove("play-mode"),document.body.classList.remove("game-started"),document.getElementById("star-row").innerHTML="",localStorage.removeItem("failedAnswers"),K.disable())}))})()})();